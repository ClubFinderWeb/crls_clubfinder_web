<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../static/style.css">
    <script src="../static/index.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <title> {% block title %}Clubs{% endblock %} </title>
</head>
    <body> 

        <!-- Main Nav Bar: -->
        <nav id="mainnav">
            <ul id="header" class="nav">
                <li><a class="navlink" href="/">Home</a></li>
                <li><a class="navlink" href="/clubs">Club_Directory</a></li>
                <li><a class="navlink" href="/createaclub">Create_a_Club</a></li>
                <li><a class="navlink" href="/login">Login</a></li>
                <li><a class="navlink" href="/signup">Signup</a></li>
            </ul>
        </nav>  

        {% block body %}

        <h1 id="mainh1"><center>Clubs</center></h1>

        <!-- The Main Container (where the clubs are held): -->
        <div class="maincontainer" id="maincontainer"> 
            <!-- Clubs are added here: -->
            {% for club in club_info %}
                <div class="club" id="{{ club.club_name }}1"> <!-- Card -->
                    <div class="clubcontent" id="{{ club.club_name }}"> <!-- Card content -->
                        <div class="clubtitle" id="{{ club.club_name }}1">{{ club.club_name }}</div> <!-- Card title  -->
                        <br><br>
                        <button formTarget="#clubdesc_{{ club.id }}" class="clubbutton" id="viewclub" type="button">View More</button> <!-- Button -->
                        <p class="shortdesc">
                            Club President: {{ club.president_email }}
                        </p> <!-- Card body -->
                        <!-- Modal: -->
                        <dialog class="clubdesc" id="clubdesc_{{ club.id }}">
                            <div class="clubdescheader">
                                <div class="clubdescname">Join {{ club.club_name }}</div>
                                <button data-close-button id="clubclosebutton_{{ club.id }}" class="clubclosebutton"">&times;</button>
                            </div>
                            <div class="clubdescdesc" id="clubdescdesc{{ club.club_name }}">{{ club.description }}</div>
                        </dialog>
                        <!-- ^ End of Modal ^ -->
                        <br><br>
                        <button method="POST" name="joinclubbutton" class="clubbutton" id="joinclubbutton" type="button" onclick="joinClub()">Join Club</button>
                        <br><br>
                        <button method="POST" name="leaveclubbutton" class="clubbutton" id="leaveclubbutton" type="button" onclick="leaveClub()">Leave Club</button>
                        <div class="overlay" id="overlay"></div>
                    </div>
                    
                </div>
            {% endfor %}
        </div>

        <!-- Make a Club Form: 
        <div class="makeaclub" id="makeaclub">
            <div class="form">
                <h3>Create a Club</h3>
                <form method="POST" id="mainform">
                    <label for="nameofclub">Club Name:</label>
                    <br>
                    <input type="text" id="nameofclub" name="nameofclub">
                    <br><br>
                    <input id="submit" type="submit" value="Create Club" onclick="addNewClub()">
                </form>
            </div>
            <input type="submit" value="Clear Clubs" id="clear" onclick="clearClubs()">
        </div> -->

        <!-- Club Log -->


        {% endblock %}

        <!-- Flash Messages (included in all pages): -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
            {% if category == "error" %}

            <div class="alert show"> 
                <span class="msg">{{ message }}</span>
            </div>

            {% else %}

            <div class="success show">
                <span class="msg"> {{ message }} </span>
            </div>

            {% endif %}
            {% endfor %}
        {% endif %}
        {% endwith %}

    </body>
</html>